<!DOCTYPE html>
<html>
<head>
<link href="https://upload.wikimedia.org/wikipedia/commons/2/20/Square.Connect.png" rel="shortcut icon">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="initial-scale=1.0,user-scalable=no" />
<meta name="mobile-web-app-capable" content="yes" />
<title>Square Chess Game</title>
<script src="Prun.js"></script>
<style>
@import "Face.css";
#FNight:hover{background-image:url(Pics/Night.jpg)}
#FNext:hover{background-image:url(Pics/Next.jpg)}
#FBefore:hover{background-image:url(Pics/Before.jpg)}
#FAssist:hover{background-image:url(Pics/Assist.jpg)}
#FBlock:hover{background-image:url(Pics/Block.jpg)}
.FBoard{
	float:left;width:300px;height:300px;background:url(Pics/Normal.jpg) no-repeat;
	background-size:contain;height:300px;width:300px;margin:5px;font-size:20px;display:table
}
.FBoard div{
	display:table-cell;vertical-align:middle;height:100%;color:black;text-align:center;background:white;opacity:0.6
}
.FBoard:hover{background-repeat:no-repeat;background-size:contain;height:300px;width:300px}
</style>
<script>var scn=0,Mod=""
function Dir(v){location=v}
function Shw(v){v.style.height=v.scrollHeight+"px"}
function Hid(v){
	for(var i=2;i<v.childNodes.length;i+=2){
		v.childNodes[i].style.height="0px"
	}v.style.height="0px"
}
function CPg(v){
	Hid(Id('content'));Shw(Id(v));Shw(Id('content'))
}
function Ldr(){
	for(var i=0;i<15;i++){
		Class("list")[i].addEventListener("mouseover",function(){
			Hid(Id("content"));Hid(Id("GameRule"))
			Shw(Id("GameRule").childNodes[Ich(Id("menu"),this)+9])
			Shw(Id("GameRule"));Shw(Id("content"));doc.body.scrollTop=0
		})
		Class("list")[i].addEventListener("click",function(){
			Dir("chess.html?mode="+this.innerHTML)
		})
		Class("list")[i].addEventListener("contextmenu",function(){Lst()})
	}
	for(var i=0;i<Class("remix").length;i++)Class("remix")[i].addEventListener("click",function(){
		Dir("chess.html?mode="+this.innerHTML)
	})
	for(i=0;i<Tag("a").length;i++){
		Tag("a")[i].addEventListener("click",function(){
			Stn(this.innerHTML)
		})
	}Rsz();var shw="MainPage";if(location.hash.length>1){var pg=Mid(location.hash,1,location.hash.length-1);if(Id(pg))shw=pg}
	Hid(Id("content"));Shw(Id(shw));Shw(Id("content"));
	(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;
		js=d.createElement(s);js.id=id;
		js.src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v2.8&appId=898060713628151";
		fjs.parentNode.insertBefore(js,fjs);
	}(document, 'script', 'facebook-jssdk'));
	window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};
		if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;
		js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);
		t._e=[];t.ready=function(f){t._e.push(f)};return t;
	}(document, "script", "twitter-wjs"));
}
function Ich(f,v){
	for(var i=0;i<f.childNodes.length;i++){
		if(f.childNodes[i]==v)return i
	}
}
function Rsz(){
	var sz=Math.floor((doc.body.clientWidth-320)/160),s2=Math.floor(doc.body.clientWidth/160),s3=Math.floor(doc.body.clientWidth/310)
	if(s2>4)s2=4;Id("home").style.width="320px";scn=0;Id("menu").style.width=sz*160+"px"
	Id("about").style.width=s2*160+"px";Id("menu").style.marginRight="";Id("Report").style.width="460px"
	for(var i=0;i<Class("Mobile").length;i++)Class("Mobile")[i].style.height="0px"
	for(var i=0;i<Class("Computer").length;i++)Class("Computer")[i].style.height=Class("Computer")[i].scrollHeight+"px"
	Class("txt")[0].style.width=Id("Report").clientWidth+"px"
	Class("txt")[1].style.width=Id("Report").clientWidth-4+"px"
	if(s3>5)s3=5;Id("Func").style.width=s3*310+"px"
	if(doc.body.clientWidth<480){scn=1,w=Math.floor(doc.body.clientWidth/160)*160
		Id("home").style.width=doc.body.clientWidth+"px"
		Id("menu").style.width=w+"px"
		Id("menu").style.marginRight=(doc.body.clientWidth-w)/2+"px"
		Id("about").style.width=w+"px"
		Id("about").style.marginRight=(doc.body.clientWidth-w)/2+"px"
		Id("Report").style.width="100%"
		Class("txt")[0].style.width=Id("Report").clientWidth-Id("Report").offsetLeft+"px"
		Class("txt")[1].style.width=Id("Report").clientWidth-Id("Report").offsetLeft-4+"px"
		for(var i=0;i<Class("Mobile").length;i++)Class("Mobile")[i].style.height=Class("Mobile")[i].scrollHeight+"px"
		for(var i=0;i<Class("Computer").length;i++)Class("Computer")[i].style.height="0px"
	}Id("txc").style.width=Class("txt")[1].clientWidth+2+"px"
	Id("txc").style.height=Class("txt")[1].clientHeight+1+"px"
	Id("Func").style.marginLeft=(Id("Func").parentNode.clientWidth-Id("Func").clientWidth)/2+"px"
}
function Mnu(v){
	var h=Tag("header")[0].scrollHeight;if(!v)h="40"
	Tag("header")[0].style.height=h+"px"
	if(!scn){Id("home").style.height=h+"px";Id("home").style.lineHeight=h+"px"}
	$(".space")[0].style.height=h+"px"
}
function Stn(v){
	var stn=[
		["基本準則","Connect準則","Blocker準則","Divider準則","Adapter準則"],
		["封限區","封區","禁區","殭屍","障礙"]
	],ck=0
	for(var i=0;i<stn.length;i++){
		for(var j=0;j<stn[i].length;j++){
			if(v==stn[i][j]){
				Hid(Id("GameRule").childNodes[(i+3)*2])
				Shw(Id("GameRule").childNodes[(i+3)*2].childNodes[(j+1)*2])
				Shw(Id("GameRule").childNodes[(i+3)*2]);ck=1
			}if(ck)break
		}if(ck)break
	}Shw(Id("GameRule"));Shw(Id("content"))
}
function Lst(){
	if(Tag("header")[0].style.height=="40px")Mnu(1);else Mnu()
}
function Rpt(){var v=[];if(Class("txt")[0].value.length<4)return alert("標題不足四字")
	for(var i=0;i<2;i++)v[i]=Class("txt")[i].value
	try{$.get(
		"https://script.google.com/macros/s/AKfycbw5re7dDJCy7qGTdjaPFWfunwGoI_1LSOlWZ9APPahlf9pndBMv/exec",
		{Typ:"P",title:"BY8.1:"+v[0],content:v[1]},
		function(r){alert(r);for(var i=0;i<2;i++)Class("txt")[i].value=""}
	)}catch(e){alert("傳送失敗，將繼續重試");Rpt()}
}
function KDw(e){var k=e.which
	switch(k){
		case 13:if(e.shiftKey)Rpt();break
		case 27:for(var i=0;i<2;i++)$(".txt")[i].value=""
	}
}
</script>
</head>
<body onLoad="Ldr()" onResize="Rsz()" oncontextmenu="event.preventDefault()" onkeydown="KDw(event)">
<header onMouseOver="Lst()" onMouseOut="Mnu()" onclick="Lst()">
    <div id="home" onclick="CPg('MainPage')">Square Chess Game</div>
    <div id="menu">
        <div class="list" title="Connect系列">Square.Connect</div>
        <div class="list" title="Connect系列">Connect:Attack</div>
        <div class="list" title="Connect系列">Connect:Defend</div>
        <div class="list" title="Connect系列">Connect:Scheme</div>
        <div class="list" title="Blocker系列">Square.Blocker</div>
        <div class="list" title="Blocker系列">Blocker:ByLine</div>
        <div class="list" title="Blocker系列">Blocker:Forbid</div>
        <div class="list" title="Blocker系列">Blocker:Anomal</div>
        <div class="list" title="Divider系列">Square.Divider</div>
        <div class="list" title="Divider系列">Divider:Zombie</div>
        <div class="list" title="Divider系列">Divider:Follow</div>
        <div class="list" title="Adapter系列">Square.Adapter</div>
        <div class="list" title="Adapter系列">Adapter:Invert</div>
        <div class="list" title="五子棋">Gomoku</div>
        <div class="list" title="類圍棋">GoLike</div>
    </div>
</header>
<div class="space"></div>
<article id="content" style="color:dimgray;height:0px"><font></font>
	<section id="MainPage"><font class="title1">歡迎使用</font>
		<section><font class="title2">試試這些基本操作</font>
			<article class="Mobile" style="height:0px">
				<ol>
					<li>點選<font class="mouse">格子</font>來<font class="command">設置符號</font></li>
					<li>點選<font class="mouse">Clean</font><font class="command">清除棋盤</font></li>
					<li>點選<font class="mouse">Undo</font><font class="command">到上一步</font></li>
					<li>按住<font class="mouse">Clean</font>做<font class="command">功能設定</font></li>
					<li>按住<font class="mouse">Undo</font><font class="command">到指定步</font></li>
				</ol>
			</article>
			<article class="Computer" style="height:0px">
				<ol>
					<li>點選<font class="mouse">格子</font>或以鍵盤輸入座標(E5即按下E+5)來<font class="command">設置符號</font></li>
					<li>滑鼠靠近<font class="mouse">空白處</font>或按下]或[即可<font class="command">喚出選單</font></li>
					<li>點選<font class="mouse">Clean</font>或按下Del以<font class="command">清除棋盤</font></li>
					<li>點選<font class="mouse">Undo</font>或按下Ctrl+Z<font class="command">到上一步</font></li>
					<li>點選<font class="mouse">Redo</font>或按下Ctrl+Y<font class="command">到下一步</font></li>
					<li>點選<font class="mouse">Goto</font>或按下Ctrl+H<font class="command">到指定步</font></li>
					<li>點選<font class="mouse">Addons</font>或按下Ctrl+Alt做<font class="command">功能設定</font></li>
				</ol>
			</article>
		</section>
		<section><font class="title2">常用功能介紹</font><br>
			<article id="Func">
				<div class="FBoard" id="FNight"><div>夜間模式<br>就算在夜間也不會覺得頁面刺眼</div></div>
				<div class="FBoard" id="FNext"><div>次回設置<br>幫助初學者了解可放置區域</div></div>
				<div class="FBoard" id="FBefore"><div>上回設置<br>幫助確認上一回合設置符號</div></div>
				<div class="FBoard" id="FAssist"><div>輔助標記<br>輔助了解現在場面情況</div></div>
				<div class="FBoard" id="FBlock"><div>障礙數量<br>若模式未禁止障礙物元件，則可輸入障礙數量(最大27)</div></div>
			</article>
		</section>
	</section>
	<section id="GameRule"><font class="title1">遊戲規則</font>
		<br>遊戲的<a>基本準則</a>
		<section><font class="title2">準則說明</font>
			<section style="background:lightgray;color:white">基本準則:雙方第一回合皆可隨意設置一枚符號於場上，場上有符號處不得重複設置，當符合條件將形成<a>禁區</a>，當無法設置符號時對方獲勝</section>
			<section style="background:royalblue;color:white">Connect準則:己方所有符號的前，後，左，右，右前，左前，右後，右左方，單位為一格，其餘無法設置</section>
			<section style="background:crimson;color:white">Blocker準則:用四枚符號形成矩形，我方形成指定形狀時，其中對方是無法設置的</section>
			<section style="background:seagreen;color:white">Divider準則:己方所有符號的前，後，左，右，右前，左前，右後，右左方，單位為無限距離長，除非該方有非我方符號存在，其餘無法設置</section>
			<section style="background:darkorange;color:white">Adapter準則:即己方所有符號的右前前，左前前，右右前，左左前，右後後，左後後，右右後，左左後方，單位為ㄧ格，其餘無法設置</section>
		</section>
		<section><font class="title2">名稱說明</font>
			<section>封限區:<font color="crimsom">O為此色</font>，<font color="royalblue">X為此色</font>
					<ol>
						<li>當對方封限區有一枚我方符號時，我方獲勝</li>
						<li>當我方封限區皆為我方符號時，對方獲勝</li>
					</ol>
			</section>
			<section>封區:<font color="palevioletred">O為此色</font>，<font color="lightsteelblue">X為此色</font>
					<ol>
						<li>當我方限區皆為我方符號時，對方獲勝</li>
					</ol>
			</section>
			<section>禁區:<font color="indianred">O為此色</font>，<font color="lightskyblue">X為此色</font>
					<ol>
						<li>對方無法設置符號於此</li>
					</ol>
			</section>
			<section>殭屍:<font color="black">皆為此色</font>，字樣為"<font color="red">Z</font>"</section>
			<section>障礙:<font color="dimgray">皆為此色</font>，字樣為" "</section>
		</section>
		<section><font class="title2">Square.Connect</font>
			<article>規則說明
				<ol>
					<li>第二回合後設置符號需依照<a>Connect準則</a>設置</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Connect:Attack</font>
			<article>規則說明
				<ol>
					<li>場上會有固定的<a>封區</a>與<a>封限區</a></li>
					<li>雙方第一回合限定設置於指定區域</li>
					<li>第二回合後設置符號需依照<a>Connect準則</a>設置</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Connect:Defend</font>
			<article>規則說明
				<ol>
					<li>第二回合後設置符號需依照<a>Connect準則</a>設置</li>
					<li>在一區域佔下我方符號五枚，且無對方符號時，我方獲勝</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Connect:Scheme</font>
			<article>規則說明
				<ol>
					<li>場上會有隨機的的<a>障礙</a></li>
					<li>雙方第一回合皆可隨意設置一枚符號於場上，但不得設置於C3-G7的座標上</li>
					<li>第一回合設置後會自動於附近產生<a>封限區</a></li>
					<li>第二回合後設置符號需依照<a>Connect準則</a>設置</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Square.Blocker</font>
			<article>規則說明
				<ol>
					<li>雙方皆可隨意設置一枚符號於場上</li>
					<li>第二回合後設置符號需依照<a>Blocker準則</a>設置</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Blocker:ByLine</font>
			<article>規則說明
				<ol>
					<li>雙方皆可隨意設置一枚符號於場上</li>
					<li>第二回合後設置符號需依照<a>Blocker準則</a>設置</li>
					<li>用兩枚符號形成直線</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Blocker:Forbid</font>
			<article>規則說明
				<ol>
					<li>雙方皆可隨意設置一枚符號於場上</li>
					<li>第二回合後設置符號需依照<a>Blocker準則</a>設置</li>
					<li>對方不可設置的地方，我方也無法設置</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Blocker:Anomal</font>
			<article>規則說明
				<ol>
					<li>雙方皆可隨意設置一枚符號於場上</li>
					<li>第二回合後設置符號需依照<a>Blocker準則</a>設置</li>
					<li>用多枚符號形成不規則形狀</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Square.Divider</font>
			<article>規則說明
				<ol>
					<li>第二回合後設置符號需依照<a>Divider準則</a>設置</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Divider:Zombie</font>
			<article>規則說明
				<ol>
					<li>第二回合後設置符號需依照<a>Divider準則</a>設置</li>
					<li>不同的符號靠近時雙方皆會變成<a>殭屍</a></li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Divider:Follow</font>
			<article>規則說明
				<ol>
					<li>第二回合後設置符號需依照<a>Divider準則</a>設置</li>
					<li>變更原生準則，原依照己方所有符號，改為依照己方上回合符號</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Square.Adapter</font>
			<article>規則說明
				<ol>
					<li>第二回合後設置符號需依照<a>Adapter準則</a>設置</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Adapter:Invert</font>
			<article>規則說明
				<ol>
					<li>第二回合後設置符號不得依照<a>Adapter準則</a>設置</li>
				</ol>
			</article>
		</section>
		<section><font class="title2">Gomoku</font>
			<article>
				<ol>
					<li><a href="https://zh.wikipedia.org/wiki/五子棋">五子棋規則</a></li>
				</ol>
			</article>
		</section>
		<section><font class="title2">GoLike</font>
			<article>
				<ol>
					<li><a href="https://zh.wikipedia.org/wiki/圍棋">圍棋規則</a></li>
					<li>不提子，被圍起來的符號都變成<a>殭屍</a></li>
				</ol>
			</article>
		</section>
	</section>
	<section id="Problem"><font class="title1">回報問題</font><br>
		<div class="Computer">按下Shift+Enter傳送,按下Esc可取消</div>
		<div align="center"><div style="height:150px" id="Report">
			<input type="text" class="txt" value="" placeholder="輸入遇到的問題"/><br>
			<div id="txc" style="position:relative;height:120px;width:462px">
				<textarea rows="5" class="txt" placeholder="詳述該狀況" style="border-top:none"></textarea>
				<div onclick="Rpt()" id="ck">送出</div>
			</div>
		</div></div>
	</section>
	<section id="Online"><font class="title1">線上對戰</font><br>
		啟動線上對戰只需將Addons中的線上對戰選項打勾，並按下OK即進入線上對戰。
		<section><font class="title2">試試這些基本操作</font>
			<article class="Mobile" style="height:0px">
				<ol>
					<li>點選GiveUp認輸</li>
					<li>按住GiveUp做功能設定</li>
					<li>點選右下角即時訊息即可傳送訊息</li>
				</ol>
			</article>
			<article class="Computer" style="height:0px">
				<ol>
					<li>點選GiveUp認輸</li>
					<li>點選Addons做功能設定</li>
					<li>點選右下角即時訊息即可傳送訊息</li>
				</ol>
			</article>
		</section>
	</section>
	<section id="Social"><font class="title1">社交網站</font><br>
		<a class="twitter-follow-button" href="https://twitter.com/SquareChessGame" data-size="large"></a><br>
		<div class="fb-like" data-href="https://www.facebook.com/SquareChessGame" data-layout="button_count" data-action="like" data-size="large" data-show-faces="true" data-share="true"></div>
	</section>
	<section id="Remix"><font class="title1">混合玩法</font><br>
		除上面提供預設模式外，部分模式間是可以混合的，例如:
		<ol>
			<li class="remix">Connect:Follow</li>
			<li class="remix">Connect:Zombie</li>
			<li class="remix">Connect:Forbid</li>
			<li class="remix">Connect:Invert</li>
			<li class="remix">Blocker:Zombie</li>
			<li class="remix">Divider:Scheme</li>
			<li class="remix">Divider:ByLine</li>
			<li class="remix">Divider:Forbid</li>
			<li class="remix">Divider:Follow</li>
			<li class="remix">Divider:Invert</li>
			<li class="remix">Adapter:Attack</li>
			<li class="remix">Adapter:Follow</li>
			<li class="remix">Adapter:ByLine</li>
			<li class="remix">Adapter:Forbid</li>
			<li class="remix">Adapter:Zombie</li>
			<li class="remix">Gomoku:Blocker</li>
			<li class="remix">Gomoku:Divider</li>
			<li class="remix">Gomoku:Connect</li>
		</ol>
		除上例外，只要規則之間不會發生衝突，可以將模式進行多重混合，以下為會發生衝突的類型:
		<ol>
			<li class="remix">Connect:Adapter</li>
			<li class="remix">Divider:Adapter</li>
		</ol>
	</section>
</article><div class="space"></div>
<footer>
	<div id="about">
		<div class="list" title="社交網站" onclick="CPg('Social')">社交網站</div>
		<div class="list" title="回報問題" onclick="CPg('Problem')">回報問題</div>
		<div class="list" title="線上對戰" onclick="CPg('Online')">線上對戰</div>
		<div class="list" title="混合玩法" onclick="CPg('Remix')">混合玩法</div>
	</div>
</footer>
</body>
<div id="fb-root"></div>
</html>
