<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Square Chess Game</title>
<link href="https://upload.wikimedia.org/wikipedia/commons/2/20/Square.Connect.png" rel="shortcut icon">
<meta name="viewport" content="initial-scale=1.0,user-scalable=no" />
<meta name="mobile-web-app-capable" content="yes" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<style>@import "Style.css";</style>
<script src="language.js"></script>
<script src="Simplify.js"></script>
<script>
var ctr=0,lg="",lng={en:{NT:"NO title",TK:"Thanks your report!"},zh:{NT:"無標題",TK:"感謝你的回報！"}}
function d(v){
	Id("menu").style.transform="translateY(-100%)";
	Id("content").style.display="none";
	if(Mid(v,0,6)=="Square")v=Mid(v,7,v.length-6)
	setTimeout("location='chess.html?mode='+'"+v+"'",500)
}
function Send(){if(Id("Title").value==""){alert(lng[lg].NT);return}
	Id("Submit").onclick=function (){};Id("Submit").style.backgroundColor="white"
	$.get("https://script.google.com/macros/s/AKfycbwz5OUuveX4rVcbrhizhfh3Hn7X1wG9P9VXPgCxCkbwJQCi54tH/exec",{
		Type:"Problem:7.1.1",
		Title:Id("Title").value,
		Content:Id("Content").value
	 },function (data){
		alert(lng[lg].TK)
		Id("Submit").onclick=function (){Send()}
		Id("Submit").style.backgroundColor="lightgray"
		Id("Title").value="";Id("Content").value=""
	   }
	)
}
function Rsz(){var v=doc.body.scrollWidth-300,s=Math.floor(v/160),p=Class("game").length;ctr=0
	Id("T").style.width="300px"
	if(s==0){Id("T").style.width=doc.body.clientWidth;s=Math.floor(doc.body.clientWidth/160);ctr=1}
	if(s>p){s=p;ctr=0}Id("DIR").style.width=s*160;Id("DIR").style.marginRight="0px"
		Id("RPP").parentNode.childNodes[3].style.width="60%"
	if(ctr){
		Id("DIR").style.marginRight=(doc.body.clientWidth-Id("DIR").clientWidth)/2
		Id("RPP").parentNode.childNodes[3].style.width="100%"
	}Id("menu").style.width=doc.body.clientWidth+"px"
}
function menu(v){var h=Id("menu").scrollHeight+"px";Rsz()
	if(v){
		Id("menu").style.height=h
		Id("Ctt").style.top=h
		if(!ctr)Id("T").style.lineHeight=h
	}else{
		Id("menu").style.height="40px"
		Id("T").style.lineHeight="40px"
		Id("Ctt").style.top="40px"
	}Id("mens").style.height=Id("menu").style.height
}
function c(v,o){var s=0;if(ctr)return
	for(i=0;i<Class("game").length;i++){var d=0
		if(o||Class("game")[i]==v||ctr){d=Class("cover")[i].scrollHeight;s=d}
		Class("cover")[i].style.height=d+"px"
	}s=s+Class("mcover")[1].firstChild.clientHeight
	if(ctr)s=Class("mcover")[1].clientHeight+"px"
	Class("mcover")[1].style.height=s+"px"
}
function mc(v,o){if(ctr)return
	for(var i=0;i<Class("mcover").length;i++){var d=0
		if(o||i==v)d=Class("mcover")[i].scrollHeight
		Class("mcover")[i].style.height=d+"px"
	}
}
function mf(){
    if(doc.body.scrollTop>0){
        Id("menu").style.opacity=0.8
        Id("toTop").style.opacity=0.8
    }else{
        Id("menu").style.opacity=1
        Id("toTop").style.opacity=0
    }
}
function Lan(){var typ=navigator.language.substr(0,2)
	for(i=0;i<Class("game").length;i++){
		Class("game")[i].addEventListener("click",function(){d(this.innerHTML)})
		Class("game")[i].addEventListener("mouseover",function(){c(this,0)})
	}
	if(location.hash)typ=location.hash.substr(1,2)
	if(!language[typ])typ="en";lg=typ
	for(i in language[typ])Id(i).innerHTML=language[typ][i]
	Rsz();Id("T").style.transition="all 1s";if(!ctr)mc(0,0)
}
function RPT(){mc(2,0);doc.body.scrollTop=doc.body.scrollHeight}
</script>
</head>
<body style="color:gray;overflow:auto" onLoad="Lan()" onResize="Rsz()" onscroll="mf()" oncontextmenu="event.preventDefault();c(-2,1);mc(1,0)">
<div id="menu" onMouseOver="menu(1)" onMouseOut="menu(0)" onClick="if(this.clientHeight!=40){menu(0)}else{menu(1)}">
<div id="T" style="font-size:25px;float:left;width:300px;line-height:40px" onMouseOver="mc(0,0)">Square Chess Game</div>
<div id="DIR" onMouseOver="mc(1,0)">
<div id="C" class="game">Square.Connect</div>
<div id="CA"class="game">Connect:Attack</div>
<div id="CD"class="game">Connect:Defend</div>
<div id="CS"class="game">Connect:Scheme</div>
<div id="B" class="game">Square.Blocker</div>
<div id="BB"class="game">Blocker:ByLine</div>
<div id="D" class="game">Square.Divider</div>
<div id="DZ"class="game">Divider:Zombie</div>
<div id="DF"class="game">Divider:Follow</div>
<div class="game">Gomoku</div>
<div class="game">Freedom Mode</div>
</div>
</div>
<div id="mens"></div>
<div id="content">
<div id="Ctt">
<div onClick="RPT()" id="Report"></div>
<div id="facebook" onClick="location='https://fb.me/SquareChessGame'">like us </div>
<div id="twitter" onClick="location='https://twitter.com/SquareChessGame'">follow us</div>
</div>
<div class="mcover">
<h1 id="Start"></h1><font id="operationT"></font><ul id="operation"></ul>
</div>
<div class="mcover">
<h1 id="Rule"></h1>
<div class="cover">Square.Connect:<ul id="SCRule"></ul></div>
<div class="cover">Connect:Attack:<ul id="SCARule"></ul></div>
<div class="cover">Connect:Defend:<ul id="SCDRule"></ul></div>
<div class="cover">Connect:Scheme:<ul id="SCSRule"></ul></div>
<div class="cover">Square.Blocker:<ul id="SBRule"></ul></div>
<div class="cover">Blocker:ByLine:<ul id="SBBRule"></ul></div>
<div class="cover">Square.Divider:<ul id="SDRule"></ul></div>
<div class="cover">Divider:Zombie:<ul id="SDZRule"></ul></div>
<div class="cover">Divider:Follow:<ul id="SDFRule"></ul></div>
<div class="cover">Gomoku<ul id="CGRule"></ul></div>
<div class="cover">Freedom Mode<ul id="FRule"></ul></div>
</div>
<div class="mcover">
<h1 id="RPP"></h1>
<table align="center" style="border:none">
<tr><td id="RPT"></td></tr>
</table>
</div>
</div>
<div id="toTop" class="cover" style="border-radius:50px;width:50px;height:50px;text-align:center;line-height:50px;color:white;background:gray;bottom:5px;right:5px;position:fixed;opacity:0" onClick="doc.body.scrollTop=0">Top</div>
</body>
</html>
